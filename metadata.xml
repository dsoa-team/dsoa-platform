<ipojo xmlns:wbp="org.apache.felix.ipojo.whiteboard">

	<!-- DSOA Handlers -->
	<handler classname="br.ufpe.cin.dsoa.handler.provider.ProviderManager"
		name="provider-manager" namespace="br.ufpe.cin.dsoa">
	</handler>

	<handler classname="br.ufpe.cin.dsoa.handler.dependency.DependencyHandler"
		name="requires" namespace="br.ufpe.cin.dsoa">
	</handler>

	<!-- DSOA Components -->
	<component classname="br.ufpe.cin.dsoa.event.impl.EventProcessingCenterImpl">
		<provides />
		<callback transition="validate" method="start" />
		<callback transition="invalidate" method="stop" />
	</component>

	<component classname="br.ufpe.cin.dsoa.metric.impl.MetricComputingCenter">
		<requires field="epCenter" />
		<provides />
	</component>
	
	<component classname="br.ufpe.cin.dsoa.management.ManagementService">
		<provides />
		<wbp:wbp 
   	      filter="(service.managed=*)" 
          onArrival="onArrival" 
          onDeparture="onDeparture" 
         />
	</component>
	
	<!-- DSOA Configuration -->
	<component classname="br.ufpe.cin.dsoa.configurator.PlatformConfigurator">
		<requires field="metricCatalog" />
		<requires field="epCenter" />
		<callback transition="validate" method="start" />
		<callback transition="invalidate" method="stop" />
	</component>

	<component classname="br.ufpe.cin.dsoa.configurator.hook.DsoaServiceListener">
		<requires field="epCenter" />
		<requires field="metricCatalog" />
		<requires field="serviceCatalog" />
		<callback transition="validate" method="start" />
		<callback transition="invalidate" method="stop" />
	</component>

	<component classname="br.ufpe.cin.dsoa.configurator.hook.DsoaFindHook">
		<callback transition="validate" method="start" />
		<callback transition="invalidate" method="stop" />
	</component>

	<component classname="br.ufpe.cin.dsoa.management.shell.DsoaCommand">
		<provides />
	</component>
	
	<component classname="br.ufpe.cin.dsoa.management.shell.MetricListCommand">
		<requires field="catalog"/>
		<provides />
	</component>

	<instance component="br.ufpe.cin.dsoa.event.impl.EventProcessingCenterImpl" />
	<instance component="br.ufpe.cin.dsoa.metric.impl.MetricComputingCenter" />
	<instance component="br.ufpe.cin.dsoa.configurator.PlatformConfigurator" />
	<instance component="br.ufpe.cin.dsoa.configurator.hook.DsoaFindHook" />
	<instance component="br.ufpe.cin.dsoa.management.shell.DsoaCommand" />
	<instance component="br.ufpe.cin.dsoa.management.shell.MetricListCommand" />
	<instance component="br.ufpe.cin.dsoa.management.service.impl.ServiceCatalogImpl"/> 

</ipojo>